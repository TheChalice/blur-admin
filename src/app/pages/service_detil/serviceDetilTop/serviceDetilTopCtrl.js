/** * Created by sorcerer on 2017/11/1. */(function () {    'use strict';    angular.module('BlurAdmin.pages.servicedetil')        .controller('serviceDetilTopCtrl', serviceDetilTopCtrl);    /** @ngInject */    function serviceDetilTopCtrl($scope,DeploymentConfig,$rootScope) {        $scope.change = function () {            DeploymentConfig.get({namespace: $rootScope.namespace,name:$scope.dc.metadata.name}, function (data) {                if ($scope.status.text === '启动') {                    if (data.metadata.annotations['dadafoundry.io/last-replicas']) {                        if (data.metadata.annotations['dadafoundry.io/last-replicas'] - 0 > 0) {                            data.spec.replicas=data.metadata.annotations['dadafoundry.io/last-replicas']                        }else {                            data.spec.replicas=1;                        }                    }else {                        data.spec.replicas=1;                    }                }else {                    data.metadata.annotations['dadafoundry.io/last-replicas']=data.spec.replicas.toString();                    data.spec.replicas=0;                }                DeploymentConfig.put({namespace: $rootScope.namespace,name:$scope.dc.metadata.name}                    ,data, function (data) {                    })            })        };    }})();