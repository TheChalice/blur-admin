/** * Created by sorcerer on 2017/11/3. */(function () {    'use strict';    angular.module('BlurAdmin.pages.servicecreat')        .controller('serviceCreatsRouteCtrl', serviceCreatsRouteCtrl);    /** @ngInject */    function serviceCreatsRouteCtrl($scope) {        function readSingleFile(e, name) {            //alert(1111)            var thisfilename = document.getElementById(name).value;            //console.log(this);            if (thisfilename.indexOf('\\')) {                var arr = thisfilename.split('\\');                thisfilename = arr[arr.length - 1]            }            var file = e.target.files[0];            if (!file) {                return;            }            var reader = new FileReader();            reader.onload = function (e) {                var content = e.target.result;                $scope.checked[name] = {key: thisfilename, value: content}                $scope.$apply();            };            reader.readAsText(file);        };        $scope.addzhengshu = function (name) {            document.getElementById(name).addEventListener('change', function (e) {                readSingleFile(e, name)            }, false);        }    }})();